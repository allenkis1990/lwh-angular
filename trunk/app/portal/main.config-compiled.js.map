{"version":3,"sources":["main.config.js"],"names":[],"mappings":"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","file":"main.config-compiled.js","sourcesContent":["\r\nvar dev = true,\r\n    configUrl = 'project.main.json',\r\n    // configUrl = 'http://192.168.1.171:8000/web/portal/getPortalTemplet',\r\n    domain = window.location.href;\r\n\r\ndomain = domain.replace(/http:\\/\\/|https:\\/\\//, '').split('/')[0].replace(/:\\d{4}/, '');\r\n\r\nrequire({\r\n    paths: {\r\n        angular: '/bower_components/angular/angular',\r\n        jquery: '/bower_components/jquery/dist/jquery',\r\n        angularUiRouter: '/bower_components/angular-ui-router/release/angular-ui-router',\r\n        oclazyload: '/bower_components/oclazyload/dist/ocLazyLoad',\r\n        restangular: '/bower_components/restangular/dist/restangular',\r\n        lodash: '/bower_components/lodash/lodash',\r\n        uiRouterExtras: '/bower_components/ui-router-extras/release/ct-ui-router-extras',\r\n        css: '/bower_components/require-css/css',\r\n        cookie: '/bower_components/cookies-js/dist/cookies',\r\n        jqueryNiceScroll: '/bower_components/prometheus/dist/modules/hb-nice-scroll',\r\n        artDialog: '/bower_components/artDialog/dist/dialog-plus-min',\r\n        angularCookies: '/bower_components/angular-cookies/angular-cookies',\r\n        prometheus: '/bower_components/prometheus/src',\r\n        bootstrap: '/bower_components/bootstrap/dist/js/bootstrap',\r\n        angularSanitize: '/bower_components/angular-sanitize/angular-sanitize'\r\n    },\r\n    shim: {\r\n        angular: {exports: 'angular', deps: ['jquery']},\r\n        restangular: {deps: ['angular', 'lodash']},\r\n        angularUiRouter: {deps: ['angular'], exports: 'angularUiRouter'},\r\n        oclazyload: {deps: ['angular']},\r\n        uiRouterExtras: {deps: ['angular'], exports: 'uiRouterExtras'},\r\n        jqueryNiceScroll: {deps: ['jquery', 'angular'], exports: 'jqueryNiceScroll'},\r\n        artDialog: {deps: ['jquery'], exports: 'dialog'},\r\n        angularCookies: {deps: ['angular']},\r\n        loader: {exports: 'loader'},\r\n        angularSanitize: {deps: ['angular'], exports: 'angularSanitize'}\r\n    },\r\n    callback: function () {\r\n        dev = new RegExp('project.main.json', 'g').test(configUrl);\r\n\r\n        function getDomainInfo(configs) {\r\n            var result;\r\n            for (var i = 0; i < configs.length; i++) {\r\n                if (configs[i].domain === domain) {\r\n                    result = configs[i];\r\n                    break;\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n\r\n        require(['angular', '_app_config_infos_', 'jquery'], function (angular, _app_config_infos_) {\r\n\r\n            var invoker = angular.injector(['ng']),\r\n                myInfo;\r\n\r\n            invoker.invoke(['$http', function ($http) {\r\n\r\n                $http.get(configUrl + '?_q=' + (+new Date()), {\r\n                        params: {\r\n                            domain: domain\r\n                        }\r\n                    })\r\n                    .then(function (data) {\r\n                        var remoteData = getDomainInfo(data.data);\r\n\r\n                        for (var i = 0; i < _app_config_infos_.length; i++) {\r\n                            if (remoteData.baseUrl === _app_config_infos_[i].name) {\r\n                                myInfo = _app_config_infos_[i];\r\n                                break;\r\n                            }\r\n                        }\r\n\r\n                        if (!myInfo) {\r\n                            return false;\r\n                        }\r\n\r\n                        // 设置标头\r\n                        document.title = remoteData.name;\r\n\r\n                        require(['./' + myInfo.main.replace(/(^js\\/)?(.*)\\.js$/, \"$2\")], function (app) {\r\n                            angular.module('snifferSolution', [])\r\n                                .config(['$provide', function ($provide) {\r\n                                    //解决ie10下面的placeholder导致$dirty为true\r\n                                    $provide.decorator('$sniffer', ['$delegate', function ($sniffer) {\r\n                                        var msie = parseInt((/msie (\\d+)/.exec(angular.lowercase(navigator.userAgent)) || [])[1], 10);\r\n                                        var _hasEvent = $sniffer.hasEvent;\r\n                                        $sniffer.hasEvent = function (event) {\r\n                                            if (event === 'input' && msie === 10) {\r\n                                                return false;\r\n                                            }\r\n                                            _hasEvent.call(this, event);\r\n                                        }\r\n                                        return $sniffer;\r\n                                    }]);\r\n                                }])\r\n                            angular.bootstrap(document.getElementsByTagName(\"html\")[0], ['app', 'snifferSolution']);\r\n                        });\r\n\r\n                        require.dev = dev;\r\n                        remoteData.baseUrl = dev ? remoteData.baseUrl : remoteData.baseUrl + '/js';\r\n                        require.config_data_for_cms = remoteData;\r\n                        require.local_config_data_for_cms = myInfo;\r\n                    });\r\n\r\n            }])\r\n        });\r\n\r\n    }\r\n});\r\n"]}