/**
 * prometheus - 普罗米修斯
 * @author 
 * @version v1.0.8
 * @link 
 * @license MIT
 */
define([],function(){"use strict";return["$timeout","$parse","$animate",function(e,n,t){arguments[-1];return{restrict:"A",require:"?ngModel",transclude:!0,link:function(n,i,o,c,r){function a(n){e(function(){var e=$('<span unselectable="on" class="k-icon k-i-close" role="button">select</span>');i.next().append(e).css({width:n}).parent().css({paddingRight:n}),e.on("click",function(e){d(),e.stopPropagation()})})}function d(){n.$apply(function(){c.$setViewValue(void 0),c.$render()});var e=i.data("kendoDateTimePicker"),t=i.data("kendoDatePicker");e&&(e.value(""),e.trigger("change")),t&&(t.value(""),t.trigger("change"))}function u(e){var n=$("<span>").html("x").css({position:"absolute",right:"5px",width:15,height:15,top:"50%",color:"#999999",fontSize:"15px",marginTop:"-8px",fontWeight:"bold",textAlign:"center",cursor:"pointer",display:"inline-block",lineHeight:"15px"});return c.$$clearInput=n,n.bind("click",function(){d()}),e.before(n),n}function p(e){var n=u(e);n.css({width:"-=20",paddingRight:"20px"})}function s(){c.$$clearInput&&c.$$clearInput.show()}function l(){c.$$clearInput&&c.$$clearInput.hide()}var f=o.ngModel||o.kNgModel;c=c||{$isEmpty:function(e){return"undefined"===e||"undefined"==typeof e||""===e}};var k={kendoDateTimePicker:function(e){a("4.8em")},kendoDatePicker:function(){a("2.8em")},kendoComboBox:function(e){var n=u(e);n.css({right:"30px",zIndex:1})}},g=$("<div>").css({display:"inline-block",position:"relative"});i.wrap(g),n.$watch(f,function(e){c.$isEmpty(e)?l():s()}),r(function(e){t.enter(e,i.parent(),i),"undefined"!=typeof o.kendoDateTimePicker?k.kendoDateTimePicker(i):"undefined"!=typeof o.kendoDatePicker?k.kendoDatePicker(i):"undefined"!=typeof o.kendoComboBox?k.kendoComboBox(i):p(i)})}}}]});