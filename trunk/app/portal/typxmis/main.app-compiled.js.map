{"version":3,"sources":["main.app.js"],"names":[],"mappings":"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","file":"main.app-compiled.js","sourcesContent":["/**\r\n * Created by wengpengfei on 2016/8/8.\r\n */\r\ndefine([\r\n    'typxmis/js/common/stateMapper',\r\n    'typxmis/js/common/hbFrontCommon',\r\n    'prometheus/modules/interceptor',\r\n    'css!' + require.local_config_data_for_cms.themes[require.config_data_for_cms.theme],\r\n    'angular',\r\n    'uiRouterExtras',\r\n    'oclazyload',\r\n    'angularUiRouter',\r\n    'restangular',\r\n    'prometheus/modules/placeholder'\r\n], function (stateMapper) {\r\n    'use strict';\r\n    return angular.module('app', [\r\n        'ui.router',\r\n        'oc.lazyLoad',\r\n        'ct.ui.router.extras',\r\n        'restangular',\r\n        'hb.frontCommon',\r\n        'HB_interceptor',\r\n        'Placeholder'\r\n    ])\r\n        .constant('modules', stateMapper.modules)\r\n        .constant('futureStates', stateMapper.futureStates)\r\n        .config(['$stateProvider', '$urlRouterProvider', '$ocLazyLoadProvider', '$futureStateProvider', 'modules', 'futureStates', '$locationProvider', 'RestangularProvider', '$httpProvider',\r\n            function ($stateProvider, $urlRouterProvider, $ocLazyLoadProvider, $futureStateProvider, modules, futureStates, $locationProvider, RestangularProvider, $httpProvider) {\r\n                /////////////////////////////////////////////\r\n                /////                                   /////\r\n                $locationProvider.hashPrefix('!');\r\n                $locationProvider.html5Mode(true);\r\n                /////                                   /////\r\n                /////////////////////////////////////////////\r\n                $ocLazyLoadProvider.config({\r\n                    //debug: true,\r\n                    jsLoader: requirejs,\r\n                    //events: true,\r\n                    loadedModules: ['states'],\r\n                    modules: modules\r\n                });\r\n\r\n                var ocLazyLoadStateFactory = ['$q', '$ocLazyLoad', 'futureState',\r\n                    function ($q, $ocLazyLoad, futureState) {\r\n                        var deferred = $q.defer();\r\n                        $ocLazyLoad.load(futureState.module).then(function () {\r\n                            deferred.resolve();\r\n                        }, function () {\r\n                            deferred.reject();\r\n                        });\r\n                        return deferred.promise;\r\n                    }];\r\n\r\n                $futureStateProvider.stateFactory('ocLazyLoad', ocLazyLoadStateFactory);\r\n\r\n                // 随便一个注解\r\n                $futureStateProvider.addResolve(['$q', '$injector', '$http', function ($q) {\r\n                    var deferd = $q.defer(),\r\n                        promise = deferd.promise;\r\n                    angular.forEach(futureStates, function (futureState) {\r\n                        $futureStateProvider.futureState(futureState);\r\n                    });\r\n                    deferd.resolve(futureStates);\r\n                    return promise;\r\n                }]);\r\n\r\n                $urlRouterProvider\r\n                    .otherwise('index');\r\n                $stateProvider.state('states', {\r\n                    url: '',\r\n                    abstract: true\r\n                });\r\n\r\n                /////////////////////////////\r\n                //配置RestAngular\t\t\t//\r\n                /////////////////////////////\r\n\r\n                RestangularProvider.addFullRequestInterceptor(\r\n                    function (element, operation, route, url, headers, params, httpConfig) {\r\n                        if (operation === 'post') {\r\n                            if (headers['Content-Type'] && angular.isObject(element)) {\r\n                                if (headers['Content-Type'].indexOf('application/x-www-form-urlencoded') !== -1) {\r\n                                    element = $.param(element);\r\n                                }\r\n                            }\r\n                        }\r\n                        return {\r\n                            element: element,\r\n                            params: params,\r\n                            headers: headers,\r\n                            httpConfig: httpConfig\r\n                        };\r\n                    });\r\n                $httpProvider.interceptors.push(['$q',\r\n                    function ($q) {\r\n                        var responseInterceptor = {\r\n                            request: function (request) {\r\n                                var now = +new Date();\r\n                                if (request.url.indexOf('/web/') !== -1) {\r\n                                    if (request.url.indexOf('?') !== -1) {\r\n                                        request.url += ('&_q_=' + now);\r\n                                    } else {\r\n                                        request.url += ('?_q_=' + now);\r\n                                    }\r\n\r\n                                }\r\n                                return request;\r\n                            },\r\n                            responseError: function (rejection) {\r\n                                return $q.reject(rejection);\r\n                            }\r\n                        };\r\n                        return responseInterceptor;\r\n                    }]);\r\n                RestangularProvider.setDefaultHttpFields({cache: false});\r\n            }])\r\n\r\n        .run(['$rootScope', '$state', '$stateParams', function ($rootScope, $state, $stateParams) {\r\n            $rootScope.$state = $state;\r\n            $rootScope.$stateParams = $stateParams;\r\n\r\n        }])\r\n});\r\n"]}